function TradeTrackerTag(a){this.opt=a;this.oModuleOptions={};this.init()}TradeTrackerTag.prototype.init=function(){this.reference="reference"in this.opt?this.opt.reference.replace(/[^a-zA-Z0-9\-|]/g,"-"):"";window.TTInstanceRef=this};
TradeTrackerTag.prototype.loadCookieDirective=function(a){this.setModuleOptions("cookieDirective",a);if(!(!0==this._getOption("cookieDirective","disable")||!1==this.oModuleOptions.cookieDirective.enabled)){for(var a="trackingDomain appearanceType allowCookiesByDefault showOnFirstVisit styleSheetURL badgeAlignment barPosition cookieDomain cookiePath acceptCookieTimeout denyCookieTimeout settingsWidth settingsHeight showDenyButton denyURL autoCloseTimeout clearAllCookiesOnDeny whitelistedCookies gaIdentifier buttonLabelOk buttonLabelNo buttonLabelClose buttonLabelInfo buttonLabelInfoClose windowTitle messageSummary messageDetails tooltipAllowed tooltipDenied tooltipUnknown".split(" "),b=
0,c=a.length;b<c;b++)this.oModuleOptions.cookieDirective[a[b]]=this._getOption("cookieDirective",a[b]);this.oCookieDirective=new ttCookieDirective(this.oModuleOptions.cookieDirective)}};TradeTrackerTag.prototype.loadCleanLinking=function(a){this.setModuleOptions("cleanLinking",a);!0==this._getOption("cleanLinking","disable")||!1==this.oModuleOptions.cleanLinking.enabled||(this.oTracker=new Tracker({type:this.opt.t,site:this.opt.s,version:1}))};
TradeTrackerTag.prototype.loadLinkReplacer=function(a){a.cookiesAllowed="oCookieDirective"in this&&!1==this.oCookieDirective.cookiesAllowed()?!1:!0;this.setModuleOptions("linkReplacer",a);if(!(!0==this._getOption("linkReplacer","disable")||!1==this.oModuleOptions.linkReplacer.enabled)){this.oModuleOptions.linkReplacer.affiliateSiteID=this.opt.s;for(var a=["reference","targetBlank","relNoFollow","trackingVisible","batchSize"],b=0,c=a.length;b<c;b++)this.oModuleOptions.linkReplacer[a[b]]=this._getOption("linkReplacer",
a[b]);this.oModuleOptions.linkReplacer.batchSize=this._getOption("linkReplacer","batchSize");this.oLinkReplace=new ttLinkReplace(this.oModuleOptions.linkReplacer)}};TradeTrackerTag.prototype.setModuleOptions=function(a,b){this.oModuleOptions[a]={};for(var c in b)this.oModuleOptions[a][c]="overrideOptions"in this.opt&&c in this.opt.overrideOptions?this.opt.overrideOptions[c]:b[c]};
TradeTrackerTag.prototype._getOption=function(a,b){var c=a+"_"+b;return"overrideOptions"in this.opt&&c in this.opt.overrideOptions?this.opt.overrideOptions[c]:b in this.oModuleOptions[a]?this.oModuleOptions[a][b]:null};TradeTrackerTag.prototype._isDisabled=function(a){return"overrideOptions"in this.opt&&"disable"+a in this.opt.pageSpecificOverrides&&this.opt.pageSpecificOverrides["disable"+a]};

var oTradeTrackerTag = new TradeTrackerTag(window._TradeTrackerTagOptions);function Tracker(a){this.sTrackerUrl="http://tm.tradetracker.net/";this.sLocale="";this.oSettings=a;this.oOptions={s:this.oSettings.site,t:this.oSettings.type};this.iPlugin=0;this.oLastLink=null;this.init();this.showImage();this.trackLinkout()}
Tracker.prototype.init=function(){if("https:"==document.location.protocol)this.sTrackerUrl=this.sTrackerUrl.replace(/^http:/,"https:");this.parseRequest();this.parseLocale();this.oOptions.r="undefined"==typeof document.referrer?"":document.referrer;this.oOptions.u=location.href;this.oOptions.i=screen.width+":"+screen.height+":"+screen.colorDepth+":"+this.sLocale+":"+this.iPlugin;if("undefined"==typeof document.getElementsByTagName)document.getElementsByTagName=function(a){return document.all.tags[a]}};
Tracker.prototype.parseRequest=function(){var a=location.search.substr(1).split("&");this.oParameters={};for(var b=0,c=a.length;b<c;b++){var d=a[b].split("=");2==d.length&&(this.oParameters[unescape(d[0])]=unescape(d[1]))}};Tracker.prototype.parseLocale=function(){var a="undefined"==typeof navigator.userLanguage?navigator.language:navigator.userLanguage;this.sLocale=2==a.length?a.toLowerCase()+"_"+a.toUpperCase():5==a.length?a.substr(0,2).toLowerCase()+"_"+a.substr(3,2).toUpperCase():a};
Tracker.prototype.parsePlugin=function(){this.iPlugin=(navigator.javaEnabled()?1:0)+2;-1<navigator.userAgent.indexOf("MSIE")&&-1<navigator.userAgent.indexOf("Win")?this.detectIe():"undefined"!=typeof navigator.mimeTypes&&this.detectMoz()};
Tracker.prototype.detectIe=function(){for(var a=[[],"ShockwaveFlash.ShockwaveFlash,ShockwaveFlash.ShockwaveFlash.6,ShockwaveFlash.ShockwaveFlash.5,ShockwaveFlash.ShockwaveFlash.4,ShockwaveFlash.ShockwaveFlash.3,ShockwaveFlash.ShockwaveFlash.2".split(","),"SWCtl.SWCtl.1",[],["rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)"],["AcroPDF.PDF.1","PDF.PdfCtrl.6","PDF.PdfCtrl.5","PDF.PdfCtrl.1"],"Adobe.SVGCtl"],b=0,c=a.length;b<c;b++)document.bIsDetected=
!1,document.writeln('<script language="VBScript" type="text/vbscript">'),document.writeln("\ton error resume next"),document.writeln('\tdocument.bIsDetected = IsObject(CreateObject("'+("string"!=typeof a[b]?a[b].join('")): document.bIsDetected = document.bIsDetected Or IsObject(CreateObject("'):a[b])+'"))'),document.writeln("<\/script>"),this.iPlugin+=(document.bIsDetected?1:0)<<b+2};
Tracker.prototype.detectMoz=function(){for(var a="application/x-mplayer2,application/x-shockwave-flash,application/x-director,video/quicktime,audio/x-pn-realaudio-plugin,application/pdf,image/svg-xml".split(","),b=0,c=a.length;b<c;b++)this.iPlugin+=(null!=navigator.mimeTypes[a[b]]&&null!=navigator.mimeTypes[a[b]].enabledPlugin?1:0)<<b+2};
Tracker.prototype.showImage=function(){var a=[],b;for(b in this.oOptions)a[a.length]=b+"="+("function"==typeof encodeURIComponent?encodeURIComponent(this.oOptions[b]):escape(this.oOptions[b]));null==document.body?document.sImgSource=this.sTrackerUrl+"pageview?"+a.join("&"):(document.sImgSource=null,b=document.createElement("img"),b.setAttribute("src",this.sTrackerUrl+"pageview?"+a.join("&")),b.setAttribute("alt",""),document.getElementsByTagName("body")[0].appendChild(b))};
Tracker.prototype.trackLinkout=function(){document.oTm=this;"undefined"!=typeof window.addEventListener?window.addEventListener("load",function(){document.oTm.loadHandler()},!1):"undefined"!=typeof window.attachEvent?window.attachEvent("onload",function(){document.oTm.loadHandler()}):window.onload=function(){document.oTm.loadHandler()}};
Tracker.prototype.loadHandler=function(){if("string"==typeof document.sImgSource)if("undefined"!=typeof document.createElement&&"undefined"!=typeof document.body.appendChild){var a=document.createElement("img");a.src=document.sImgSource;document.body.appendChild(a)}else a=new Image,a.src=document.sImgSource;for(var a="undefined"==typeof document.body.getElementsByTagName?document.links:document.body.getElementsByTagName("a"),b=0,c=a.length;b<c;b++)if("string"==typeof a[b].href&&"http://"==a[b].href.substr(0,
7).toLowerCase()&&-1==a[b].href.toLowerCase().indexOf(location.hostname.toLowerCase()))"undefined"!=typeof window.addEventListener?a[b].addEventListener("click",function(a){document.oTm.clickHandler(a)},!1):"undefined"!=typeof window.attachEvent?a[b].attachEvent("onclick",function(a){document.oTm.clickHandler(a)}):a[b].onclick=function(a){document.oTm.clickHandler(a)}};
Tracker.prototype.clickHandler=function(a){a=window.event?window.event.srcElement:a.target;if("string"===typeof a.prev_href)a.href=a.prev_href;var b=document.createElement("script");b.setAttribute("language","javascript");b.setAttribute("type","text/javascript");b.setAttribute("src",this.sTrackerUrl+"clickout?s="+this.oOptions.s+"&t="+this.oOptions.t+"&i="+this.oOptions.i+"&src="+("function"==typeof encodeURIComponent?encodeURIComponent(location.href):escape(location.href))+"&target="+("function"==
typeof encodeURIComponent?encodeURIComponent(a.href):escape(a.href)));document.getElementsByTagName("head").item(0).appendChild(b)};Tracker.prototype.afterClickHandler=function(){this.oLastLink.href=this.oLastLink.prev_href};

oTradeTrackerTag.loadCleanLinking({
	enabled: true
});